@model SedeVista
@{
    ViewBag.Title = "Sedes";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Scripts{
    @Content.Script("SGE.Sede.js", Url)
}
<div class="box">
    <h2>
        Sede</h2>
    @using (Html.BeginForm("ModificarSede", "Sede", FormMethod.Post, new { Id = "FormularioSede" }))
    {        
        <table align="center" style="width: 930px;">
            <tr>
                <td>
                    <fieldset style="width: 925px;">
                        <legend align="center"><b>@Model.Accion</b></legend>
                        <table align="left" style="width: 920px;">
                            <tr>
                                <td align="right">
                                    <b>Nombre de Sede: </b>
                                </td>
                                <td align="left" valign="middle" colspan="3">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Descripcion, new { disabled = "disabled", style = "width:650px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.Descripcion, new { style = "width:650px;", MaxLength = "200" })
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <b>Localidad: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.EditorFor(model => model.Localidades, new { disabled = "disabled", style = "width:100px;" })
                                    }
                                    else
                                    {
                                        @Html.EditorFor(model => model.Localidades, new { style = "width:100px;" })
                                    }
                                </td>
                                <td align="right">
                                    <b>Calle: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Calle, new { disabled = "disabled", style = "width:250px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.Calle, new { style = "width:250px;", MaxLength = "100" })
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <b>Número: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Numero, new { disabled = "disabled", style = "width:50px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.Numero, new { style = "width:50px; text-align: right;", MaxLength = "10" })
                                    }
                                </td>
                                <td align="right">
                                    <b>Piso: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Piso, new { disabled = "disabled", style = "width:50px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.Piso, new { style = "width:50px; text-align: right;", MaxLength = "10" })
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <b>Dpto.: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Dpto, new { disabled = "disabled", style = "width:50px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.Dpto, new { style = "width:50px; text-align: right;", MaxLength = "10" })
                                    }
                                </td>
                                <td align="right">
                                    <b>Código Postal: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.CodigoPostal, new { disabled = "disabled", style = "width:50px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.CodigoPostal, new { style = "width:50px; text-align: right;", MaxLength = "10" })
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <b>Apellido Contacto: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.ApellidoContacto, new { disabled = "disabled", style = "width:200px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.ApellidoContacto, new { style = "width:200px;", MaxLength = "150" })
                                    }
                                </td>
                                <td align="right">
                                    <b>Nombre Contacto </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.NombreContacto, new { disabled = "disabled", style = "width:200px;" })
                                    }
                                    else
                                    {
                                        @Html.EditorFor(model => model.NombreContacto, new { style = "width:200px;", MaxLength = "150" })
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <b>Teléfono: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Telefono, new { disabled = "disabled", style = "width:200px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.Telefono, new { style = "width:200px;", MaxLength = "50" })
                                    }
                                </td>
                                <td align="right">
                                    <b>Fax: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Fax, new { disabled = "disabled", style = "width:200px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.Fax, new { style = "width:200px;", MaxLength = "50" })
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <b>Email: </b>
                                </td>
                                <td align="left" valign="middle">
                                    @if (Model.Accion == "Ver" || Model.Accion == "Eliminar")
                                    {
                                        @Html.TextBoxFor(model => model.Email, new { disabled = "disabled", style = "width:250px;" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(c => c.Email, new { style = "width:250px;", MaxLength = "75", @Class = "Accion" })
                                    }
                                </td>
                            </tr>
                        </table>
                        @Html.ValidationSummary(false)
                    </fieldset>
                </td>
            </tr>
        </table>
        
        <br />
        @Html.HiddenFor(model => model.Id)
        @Html.HiddenFor(model => model.Accion)
        @Html.HiddenFor(model => model.Descripcion)
        @Html.HiddenFor(model => model.IdEmpresa)        
        <table id="btnfin" width="100%">
            <tr>
                <td align="center" valign="middle">
                    @switch (Model.Accion)
                    {
                        case "Ver":
                            break;
                        case "Agregar":           
                        <a class="btnIngresar" href="#" id="Agregar">Guardar</a>
                            break;
                        case "Modificar":
                        <a class="btnIngresar" href="#" id="Modificar">Guardar</a>
                            break;
                        case "Eliminar": 
                        <a class="btnIngresar" href="#" id="Eliminar">Eliminar</a>
                            break;
                        default:
                            break;
                    }
                    <a class="btnIngresar" href="#" id="VolverFormEmpresa">Volver</a>
                </td>
            </tr>
        </table>        
        <table>
            <tr>
                <td>
                    <div id="MensajeError">
                        @TempData["MensajeError"]
                    </div>
                </td>
            </tr>
        </table>
    }
</div>
<div id="dialog" title="Mensaje">
    <p>
        No puede eliminar la Sede porque tiene Fichas asociadas.</p>
</div>
<div id="dialogExisteSede" title="Mensaje">
    <p>
        Ya existe una Sede con el mismo nombre.</p>
</div>
<div id="dialogConfirmarEliminar" title="Mensaje">
    <p>
        ¿Está seguro que desea eliminar esta Sede?</p>
</div>
